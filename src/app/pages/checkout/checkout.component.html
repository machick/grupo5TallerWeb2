<app-navbar></app-navbar>
<app-carrito-offcanvas></app-carrito-offcanvas>

<div class="modo container">
  <main>
    <div class="modo row g-5 py-5">
      <!-- Porductos del carrito -->
      <div class="modo col-md-5 col-lg-4 order-md-last">
        <h4 class="modo d-flex justify-content-between align-items-center mb-3">
          <span class="modo text-primary">Tu Carrito</span>
          <span class="modo badge bg-primary rounded-pill">{{cantidad}}</span>
        </h4>
        <ul *ngIf="carrito" class="modo list-group mb-3">
          <li class="modo list-group-item d-flex justify-content-between lh-sm" *ngFor="let item of carrito.items">
            <div>
              <h6 class="modo my-0">{{ item.producto.nombre }} X{{ item.cantidad }}</h6>
              <small class="modo text-muted">{{ item.producto.descripcion }}</small>
            </div>
            <span class="modo text-muted">${{ item.producto.precio * item.cantidad }}</span>
          </li>
          <li class="modo list-group-item d-flex justify-content-between">
            <a
              class="modo text-decoration-none"
              href="/home"
            >
              Agregar mas productos</a
            >
          </li>
        </ul>

        <li class="modo list-group-item d-flex justify-content-between lh-sm">
        <div>
          <h6 class="modo my-0">Total a pagar</h6>
        </div>
        <span class="modo text-muted">${{subtotal}}</span>
      </li>
        <form>
          <div class="modo input-group">
            <button
            (click)="agregarPedido()"
            type="submit" class="btn btn-primary w-100 mt-2">
              Realizar Pedido
            </button>
          </div>
        </form>
      </div>

      <!-- Datos de la entrega -->

      <div class="modo col-md-7 col-lg-8 py-5">
        <ul class="modo list-group mb-3">
          <li class="modo list-group-item d-flex justify-content-between lh-sm">
            <div>
              <h6 class="modo my-0">Recibir ahora en</h6><input
              type="text"
              class="form-control"
              id="direccion"
              name="direccion"
              placeholder="Direccion"
              [(ngModel)]="direccion"
            />
            </div>
          </li>
          <li class="modo list-group-item lh-sm">
            <div>
              <h6 class="modo my-0">Aclaraciones de tu pedido</h6>
              <textarea class="form-control mt-2" rows="8" [(ngModel)]="aclaraciones"></textarea>
            </div>
          </li>
        </ul>
      </div>
    </div>
  </main>
</div>

<script src="form-validation.js"></script>
